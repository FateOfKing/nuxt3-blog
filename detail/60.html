<!DOCTYPE html>
<html  data-head-attrs="">

<head >
  <meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="head:count" content="2"><link rel="modulepreload" href="/_nuxt/entry-89d5d5ff.mjs" as="script" crossorigin><link rel="preload" href="/_nuxt/entry.1e879bd1.css" as="style"><link rel="modulepreload" href="/_nuxt/_id_-9255a1a7.mjs" as="script" crossorigin><link rel="modulepreload" href="/_nuxt/article-708b918e.mjs" as="script" crossorigin><link rel="modulepreload" href="/_nuxt/index-ed8b9815.mjs" as="script" crossorigin><link rel="prefetch" href="/_nuxt/avatar.a4306ac7.jpg"><link rel="prefetch" as="script" href="/_nuxt/archive-af16459b.mjs"><link rel="prefetch" as="script" href="/_nuxt/pageContainer-af579473.mjs"><link rel="prefetch" as="script" href="/_nuxt/index-08a92fd0.mjs"><link rel="prefetch" as="script" href="/_nuxt/life-2a467d13.mjs"><link rel="prefetch" as="script" href="/_nuxt/skillSample-7c3dcced.mjs"><link rel="stylesheet" href="/_nuxt/entry.1e879bd1.css">
</head>

<body  data-head-attrs="">
  <div id="__nuxt"><!--[--><!--[--><div class="bg-gray-page-bg-color h-screen" data-v-f59aa03c><div class="flex justify-center bg-black-bg-color" data-v-f59aa03c data-v-a800f126><div class="flex container h-[3.5rem] leading-[3.5rem] text-white px-5" data-v-a800f126><a href="/" class="site-title" data-v-a800f126>CarleBlog.com</a><span class="head-title-container" data-v-a800f126><a href="/" class="head-title" data-v-a800f126>博客首页</a></span><span class="head-title-container" data-v-a800f126><a href="/skillSample" class="head-title" data-v-a800f126>归档文章</a></span><span class="head-title-container" data-v-a800f126><a href="/skillSample" class="head-title" data-v-a800f126>技能展示</a></span></div></div><div class="container h-full mx-auto main clear-fix px-10" data-v-f59aa03c><div class="center bg-white mt-5 p-5" data-v-f59aa03c><div data-v-f59aa03c><div class="text-black text-xl font-bold text-center" data-v-f59aa03c>Mac-使用AppleScript脚本-设置Git代理（对话框篇）</div><div class="text-sm text-gray-400 text-center mt-3" data-v-f59aa03c>2020-7-17</div><div data-v-f59aa03c><p>国内发现Git Clone特别慢，有什么办法提高吗？
有！
<code>git config --global http.proxy &#39;socks5://127.0.0.1:端口号&#39;</code>
<code> git config --global https.proxy &#39;socks5://127.0.0.1:端口号&#39;</code>
两句话搞定。</p>
<p>但是公司项目又是部署在公司内网的，不能使用代理，所以每次都要切换，很麻烦。于是做了小脚本。
（AppleScript使用方法看我<a href="https://www.jianshu.com/p/27a457530f6d">上一篇文章</a>）</p>
<h3 id="后来发现可以用git-config---global-httphttpsgithubcomproxy-socks5127001端口号-单独对github设置，这工具就没用了。本文就当记录dialog怎么用的吧。">(后来发现可以用<code>git config --global http.https://github.com.proxy &#39;socks5://127.0.0.1:端口号&#39;</code> 单独对github设置，这工具就没用了。本文就当记录dialog怎么用的吧)。</h3>
<pre><code><span class="hljs-keyword">tell</span> <span class="hljs-built_in">application</span> <span class="hljs-string">&quot;代理工具名字
    run
end tell

display dialog &quot;</span>请选择是否打开Git代理<span class="hljs-string">&quot; buttons {&quot;</span>打开<span class="hljs-string">&quot;, &quot;</span>关闭<span class="hljs-string">&quot;} default button &quot;</span>打开<span class="hljs-string">&quot; with title &quot;</span>提示<span class="hljs-string">&quot;
set returnRecord to the result --获取返回的record类型的值
if returnRecord is {button returned:&quot;</span>打开<span class="hljs-string">&quot;} then
    tell application &quot;</span>Terminal<span class="hljs-string">&quot;
        do shell script &quot;</span>git config <span class="hljs-comment">--global http.proxy &#x27;socks5://127.0.0.1:端口号&#x27; &amp;&amp; git config --global https.proxy &#x27;socks5://127.0.0.1:端口号&#x27;&quot;</span>
    <span class="hljs-keyword">end</span> <span class="hljs-keyword">tell</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-keyword">tell</span> <span class="hljs-built_in">application</span> <span class="hljs-string">&quot;Terminal&quot;</span>
        <span class="hljs-built_in">do shell script</span> <span class="hljs-string">&quot;git config --global --unset http.proxy &amp;&amp; git config --global --unset https.proxy&quot;</span>
        
    <span class="hljs-keyword">end</span> <span class="hljs-keyword">tell</span>
<span class="hljs-keyword">end</span> <span class="hljs-keyword">if</span>
</code></pre>
<p>打开代理工具
弹出对话框，是否打开Git代理，根据选择的按钮，执行不同的方法</p>
</div></div></div></div></div><!--]--><!--]--></div><script>window.__NUXT__={data:{pinia:{},urql:{"2323064241":{data:"{\"getArticle\":{\"id\":60,\"title\":\"Mac-使用AppleScript脚本-设置Git代理（对话框篇）\",\"article_content\":\"国内发现Git Clone特别慢，有什么办法提高吗？\\n有！\\n`git config --global http.proxy 'socks5:\u002F\u002F127.0.0.1:端口号'`\\n` git config --global https.proxy 'socks5:\u002F\u002F127.0.0.1:端口号'`\\n两句话搞定。\\n\\n\\n\\n但是公司项目又是部署在公司内网的，不能使用代理，所以每次都要切换，很麻烦。于是做了小脚本。\\n（AppleScript使用方法看我[上一篇文章](https:\u002F\u002Fwww.jianshu.com\u002Fp\u002F27a457530f6d)）\\n\\n### (后来发现可以用`git config --global http.https:\u002F\u002Fgithub.com.proxy 'socks5:\u002F\u002F127.0.0.1:端口号'` 单独对github设置，这工具就没用了。本文就当记录dialog怎么用的吧)。\\n```\\ntell application \\\"代理工具名字\\n\\trun\\nend tell\\n\\ndisplay dialog \\\"请选择是否打开Git代理\\\" buttons {\\\"打开\\\", \\\"关闭\\\"} default button \\\"打开\\\" with title \\\"提示\\\"\\nset returnRecord to the result --获取返回的record类型的值\\nif returnRecord is {button returned:\\\"打开\\\"} then\\n\\ttell application \\\"Terminal\\\"\\n\\t\\tdo shell script \\\"git config --global http.proxy 'socks5:\u002F\u002F127.0.0.1:端口号' && git config --global https.proxy 'socks5:\u002F\u002F127.0.0.1:端口号'\\\"\\n\\tend tell\\nelse\\n\\ttell application \\\"Terminal\\\"\\n\\t\\tdo shell script \\\"git config --global --unset http.proxy && git config --global --unset https.proxy\\\"\\n\\t\\t\\n\\tend tell\\nend if\\n```\\n打开代理工具\\n弹出对话框，是否打开Git代理，根据选择的按钮，执行不同的方法\\n\",\"addTime\":1594964726,\"view_content\":0,\"type_id\":\"4\",\"__typename\":\"ArticleDto\"}}"}}},state:{error:null},_errors:{},serverRendered:true,config:{public:{},app:{baseURL:"\u002F",buildAssetsDir:"\u002F_nuxt\u002F",cdnURL:""}},__URQL_DATA__:{}}</script><script type="module" src="/_nuxt/entry-89d5d5ff.mjs" crossorigin></script><script type="module" src="/_nuxt/_id_-9255a1a7.mjs" crossorigin></script>
</body>

</html>