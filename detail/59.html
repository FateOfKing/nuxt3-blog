<!DOCTYPE html>
<html  data-head-attrs="">

<head >
  <meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="head:count" content="2"><link rel="modulepreload" href="/_nuxt/entry-298ea703.mjs" as="script" crossorigin><link rel="preload" href="/_nuxt/entry.20072ffb.css" as="style"><link rel="modulepreload" href="/_nuxt/_id_-b3d49c8b.mjs" as="script" crossorigin><link rel="modulepreload" href="/_nuxt/article-4d80814c.mjs" as="script" crossorigin><link rel="modulepreload" href="/_nuxt/index-ed8b9815.mjs" as="script" crossorigin><link rel="prefetch" href="/_nuxt/avatar.a4306ac7.jpg"><link rel="prefetch" as="script" href="/_nuxt/archive-21df8f86.mjs"><link rel="prefetch" as="script" href="/_nuxt/pageContainer-c6eeb7c3.mjs"><link rel="prefetch" as="script" href="/_nuxt/index-27e32ad6.mjs"><link rel="prefetch" as="script" href="/_nuxt/life-2a467d13.mjs"><link rel="prefetch" as="script" href="/_nuxt/skillSample-d0858c4e.mjs"><link rel="stylesheet" href="/_nuxt/entry.20072ffb.css">
</head>

<body  data-head-attrs="">
  <div id="__nuxt"><!--[--><!--[--><div class="bg-gray-page-bg-color h-screen" data-v-f59aa03c><div class="flex justify-center bg-black-bg-color" data-v-f59aa03c data-v-3cc81b26><div class="flex container h-[3.5rem] leading-[3.5rem] text-white px-5" data-v-3cc81b26><a href="/" class="site-title" data-v-3cc81b26>CarleBlog.com</a><span class="head-title-container" data-v-3cc81b26><a href="/" class="head-title" data-v-3cc81b26>博客首页</a></span><span class="head-title-container" data-v-3cc81b26><a href="/archive" class="head-title" data-v-3cc81b26>归档文章</a></span><span class="head-title-container" data-v-3cc81b26><a href="/skillSample" class="head-title" data-v-3cc81b26>技能展示</a></span></div></div><div class="container h-full mx-auto main clear-fix px-10" data-v-f59aa03c><div class="center bg-white mt-5 p-5" data-v-f59aa03c><div data-v-f59aa03c><div class="text-black text-xl font-bold text-center" data-v-f59aa03c>Mac-使用AppleScript脚本（网络和终端篇）</div><div class="text-sm text-gray-400 text-center mt-3" data-v-f59aa03c>2020-7-17</div><div data-v-f59aa03c><p>一入苹果生态，再也出不来了。
今天发现了一个Mac上面好用的脚本工具，实现我日常的一些自动化的事情。
基本使用方法：
打开Mac中的 <strong>脚本编辑器</strong> APP，长这样。
<img src="https://upload-images.jianshu.io/upload_images/12634286-4a8541fcbb10e7b3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png">
新建一个脚本：写上脚本。</p>
<p>可以点击小三角进行运行预览。</p>
<p>保存的时候可以选择保存的类型，一共四种类型。我一般都选应用程序。直接能打包成APP。
<img src="https://upload-images.jianshu.io/upload_images/12634286-8e2e569a22e33b83.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>我自己写了几个脚本。
比如：</p>
<p>前段时间需要自动运行一个node脚本，但是需要关闭代理，等一系列麻烦的操作。每次都要好几部。于是我想到了编一个AppleScript脚本。几句代码轻轻松松搞定。</p>
<p>语法如下</p>
<pre><code>
tellapplication <span class="hljs-string">&quot;代理工具名字xxx&quot;</span>

quit

endtell

tellapplication <span class="hljs-string">&quot;Terminal&quot;</span>

<span class="hljs-built_in">do shell script</span><span class="hljs-string">&quot;sudo networksetup -setautoproxystate Wi-Fi on &amp;&amp; sudo networksetup -setautoproxyurl Wi-Fi http://127.0.0.1:8080/proxy.pac&quot;</span>withadministrator privileges

setcurrentTabtodo <span class="hljs-keyword">script</span> (<span class="hljs-string">&quot;cd /Users/xxx/xxx &amp;&amp;/usr/local/bin/node app -p 8080:8081&quot;</span>)

endtell

<span class="hljs-built_in">delay</span> <span class="hljs-number">3</span>

tellapplication <span class="hljs-string">&quot;NeteaseMusic&quot;</span>

<span class="hljs-built_in">run</span>

endtell

tellapplication <span class="hljs-string">&quot;UnblockMusic&quot;</span>

quit

endtell
</code></pre>
<p>主要就是关闭代理工具
（不打开终端面板）运行终端命令，设置WiFi代理为自动发现代理，设置为<code>http://127.0.0.1:8080/proxy.pac</code>
打开终端面板，运行终端命令，运行一段nodejs
3秒后打开网易云
关闭本脚本。</p>
<p>今天就写到这，以后还会写一些相关的又不懂得直接欢迎留言。</p>
</div></div></div></div></div><!--]--><!--]--></div><script>window.__NUXT__={data:{pinia:{},urql:{"2323063449":{data:"{\"getArticle\":{\"id\":59,\"title\":\"Mac-使用AppleScript脚本（网络和终端篇）\",\"article_content\":\"一入苹果生态，再也出不来了。\\n今天发现了一个Mac上面好用的脚本工具，实现我日常的一些自动化的事情。\\n基本使用方法：\\n打开Mac中的 **脚本编辑器** APP，长这样。\\n![image.png](https:\u002F\u002Fupload-images.jianshu.io\u002Fupload_images\u002F12634286-4a8541fcbb10e7b3.png?imageMogr2\u002Fauto-orient\u002Fstrip%7CimageView2\u002F2\u002Fw\u002F1240)\\n新建一个脚本：写上脚本。\\n\\n可以点击小三角进行运行预览。\\n\\n保存的时候可以选择保存的类型，一共四种类型。我一般都选应用程序。直接能打包成APP。\\n![image.png](https:\u002F\u002Fupload-images.jianshu.io\u002Fupload_images\u002F12634286-8e2e569a22e33b83.png?imageMogr2\u002Fauto-orient\u002Fstrip%7CimageView2\u002F2\u002Fw\u002F1240)\\n\\n我自己写了几个脚本。\\n比如：\\n\\n前段时间需要自动运行一个node脚本，但是需要关闭代理，等一系列麻烦的操作。每次都要好几部。于是我想到了编一个AppleScript脚本。几句代码轻轻松松搞定。\\n\\n语法如下\\n\\n```\\n\\ntellapplication \\\"代理工具名字xxx\\\"\\n\\nquit\\n\\nendtell\\n\\ntellapplication \\\"Terminal\\\"\\n\\ndo shell script\\\"sudo networksetup -setautoproxystate Wi-Fi on && sudo networksetup -setautoproxyurl Wi-Fi http:\u002F\u002F127.0.0.1:8080\u002Fproxy.pac\\\"withadministrator privileges\\n\\nsetcurrentTabtodo script (\\\"cd \u002FUsers\u002Fxxx\u002Fxxx &&\u002Fusr\u002Flocal\u002Fbin\u002Fnode app -p 8080:8081\\\")\\n\\nendtell\\n\\ndelay 3\\n\\ntellapplication \\\"NeteaseMusic\\\"\\n\\nrun\\n\\nendtell\\n\\ntellapplication \\\"UnblockMusic\\\"\\n\\nquit\\n\\nendtell\\n\\n```\\n\\n主要就是关闭代理工具\\n（不打开终端面板）运行终端命令，设置WiFi代理为自动发现代理，设置为`http:\u002F\u002F127.0.0.1:8080\u002Fproxy.pac`\\n打开终端面板，运行终端命令，运行一段nodejs\\n3秒后打开网易云\\n关闭本脚本。\\n\\n今天就写到这，以后还会写一些相关的又不懂得直接欢迎留言。\\n\",\"addTime\":1594964726,\"view_content\":0,\"type_id\":\"4\",\"__typename\":\"ArticleDto\"}}"}}},state:{error:null},_errors:{},serverRendered:true,config:{public:{},app:{baseURL:"\u002F",buildAssetsDir:"\u002F_nuxt\u002F",cdnURL:""}},__URQL_DATA__:{}}</script><script type="module" src="/_nuxt/entry-298ea703.mjs" crossorigin></script><script type="module" src="/_nuxt/_id_-b3d49c8b.mjs" crossorigin></script>
</body>

</html>